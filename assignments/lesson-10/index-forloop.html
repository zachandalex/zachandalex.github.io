<!DOCTYPE html>
<html lang='en-us'>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
    <title>Idaho Weather Hub - Gallery</title>
    <meta name='description' content='Idaho Weather Hub - Weather Gallery'>
    <link rel='stylesheet' href='css/normalize.css'>
    <link rel='stylesheet' href='css/small-10.css'>
    <link rel='stylesheet' href='css/medium-10.css'>
    <link rel='stylesheet' href='css/large-10.css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300%7COswald&display=swap' rel='stylesheet'>
</head>

<body>
    <header>
        <img class='logo' src='images/cloud-with-sun.png' alt='cloud with sun peeking out'>
        <div class='title'>
            <h1>Idaho Weather Hub</h1>
            <h3 class='motto'>Blue skies and sunshine or white snow covering the ground, there is something here for
                you.
            </h3>
        </div>
    </header>
    <nav>
        <ul class='menu'>
            <li><a href='#' title='Menu' onclick='toggleMenu()'>&#9776; Menu</a></li>
            <li><a href='#'>Home</a></li>
            <li><a href='preston-10.html'>Preston</a></li>
            <li><a href='#'>Soda Springs</a></li>
            <li><a href='#'>Fish Haven</a></li>
            <li><a href='stormcenter.html'>Storm Center</a></li>
            <li><a class='active' href='gallery-10.html'>Gallery</a></li>
        </ul>
  </nav>
  <main>
    <h2>Home</h2>
    <header class='motto'>

    </header>
    
    <section class='motto'>

    </section>

      <section class='contact'>
      <h2>Contact Information</h2>
      <p>Phone: (123)456-7890 <br>
        Email: Preston@idaho.gov <br>
        Address: 123 Preston Ave</p>
      <div>
        <img class='prestonmap' src='images/prestoncitymap.jpg' alt='Preston City Map'>
      </div>
    </section>
  </main>
  <footer>
    <p>Â©2019 The Idaho Weather Hub | Attributions | Michelle Church</p>
    <p id='currentdate'>
    </p>
    <!--<a href='https://www.freepik.com/free-photos-vectors/icon'>Icon vector created by freepik - www.freepik.com</a>-->
  </footer>
  <script src='js/currentdate.js'>
  </script>
  <script src='js/hamburger.js'>
  </script>
  <script> /*Calling and creating data with JSON*/
    var header = document.querySelector ('header.motto');
    var section = document.querySelector ('section.motto');
    var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
    var request = new XMLHttpRequest ();
    request.open('GET', requestURL);
    request.responseType = 'json';
    request.send();
    /*This is waiting for the response to return from the server and then dealing with it*/
    request.onload = function()
      {
        var motto = request.response;
        /*populateHeader(motto);*/
        showMotto (motto);
      /*an example of this same string using raw json text and parsing it to convert to an actual 
        javascript object
            
        request.open('GET', requestURL);
        request.responseType = 'text' //now we're getting a string
        request.send();

        request.onload = function() 
        {
            var supreHeroesText = request.response; //get the string from the response
            var superHeroes = JSON.parse(superHeroesText); //convert it to an object
            populateHeader(superHeroes);
            showHeroes(superHeroes); 
        } */
      }
    function showMotto(jsonObj)
      {
        var towns = jsonObj['towns'];
        var townNames = ["Fish Haven","Soda Springs", "Preston"]
        var output = [];
            for (var i=0; i < towns.length; i++) {
              for (var x = 0; x<townNames.length; x++){
                if (towns[i].name==townNames[x])
                {
                    output.push(towns[i]);
   
             
            var myArticle = document.createElement('article');
            /*town name*/
            var myH2 = document.createElement('h2');
            /*motto*/
            var myH3 = document.createElement('h3');
            /*Statistics*/
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
            /*events*/
            var myList = document.createElement('ul');
            
            myH2.textContent = towns[i].name;
            myH3.textContent = towns[i].motto;
            myPara1.textContent = 'Year Founded: ' + towns[i].yearFounded;
            myPara2.textContent = 'Population: ' + towns[i].currentPopulation;
            myPara3.textContent = 'Annual Rain Fall: ' + towns[i].averageRainfall;
            myPara4.textContent = 'Events: ';

            var events = towns[i].events;
            for (var j="0"; j < towns.length; j++)
              {
                var listItem = document.createElement('li');
                listItem.textContent = events[j];
                myList.appendChild(listItem);
              }
            myArticle.appendChild(myH2);
            myArticle.appendChild(myH3);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);
            myArticle.appendChild(myList);

            section.appendChild(myArticle);
          }
              }
            }
          }

      
  </script>
</body>

</html>